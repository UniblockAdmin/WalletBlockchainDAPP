{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import UBToken from\"../contracts/UBToken.json\";import Web3 from\"web3\";import\"../App.css\";const Web3Connect=()=>{const[state,setState]=useState({web3:null,contract:null,newAccount:null,tokenBalance:0});useEffect(()=>{const provider=new Web3.providers.HttpProvider(\"http://194.87.147.75:8545/\");async function initializeWeb3(){const web3=new Web3(provider);const networkId=await web3.eth.net.getId();const deployedNetwork=UBToken.networks[networkId];const contract=new web3.eth.Contract(UBToken.abi,deployedNetwork.address);setState({web3,contract});}provider&&initializeWeb3();},[]);return state;};export default Web3Connect;","map":{"version":3,"names":["React","useState","useEffect","UBToken","Web3","Web3Connect","state","setState","web3","contract","newAccount","tokenBalance","provider","providers","HttpProvider","initializeWeb3","networkId","eth","net","getId","deployedNetwork","networks","Contract","abi","address"],"sources":["C:/Users/olavi/uniblock/WalletBlockchainApp/WalletBlockchainApp/src/Components/Web3Connect.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport UBToken from \"../contracts/UBToken.json\";\nimport Web3 from \"web3\";\nimport \"../App.css\";\n\nconst Web3Connect = () => { \n    const [state, setState] = useState({\n        web3: null,\n        contract: null,\n        newAccount: null,\n        tokenBalance: 0\n      });\n      \n      useEffect(() => {\n        const provider = new Web3.providers.HttpProvider(\n          \"http://194.87.147.75:8545/\"\n        );\n        \n        async function initializeWeb3() {\n          const web3 = new Web3(provider);\n          const networkId = await web3.eth.net.getId();\n          const deployedNetwork = UBToken.networks[networkId];\n          \n          const contract = new web3.eth.Contract(\n            UBToken.abi,\n            deployedNetwork.address\n          );\n          \n          setState({ web3, contract });\n        }\n    \n        provider && initializeWeb3();\n      }, []);\n\n    return state;\n}\n\nexport default Web3Connect"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,2BAA2B,CAC/C,MAAO,CAAAC,IAAI,KAAM,MAAM,CACvB,MAAO,YAAY,CAEnB,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGN,QAAQ,CAAC,CAC/BO,IAAI,CAAE,IAAI,CACVC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IAAI,CAChBC,YAAY,CAAE,CAChB,CAAC,CAAC,CAEFT,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,QAAQ,CAAG,GAAI,CAAAR,IAAI,CAACS,SAAS,CAACC,YAAY,CAC9C,4BACF,CAAC,CAED,cAAe,CAAAC,cAAcA,CAAA,CAAG,CAC9B,KAAM,CAAAP,IAAI,CAAG,GAAI,CAAAJ,IAAI,CAACQ,QAAQ,CAAC,CAC/B,KAAM,CAAAI,SAAS,CAAG,KAAM,CAAAR,IAAI,CAACS,GAAG,CAACC,GAAG,CAACC,KAAK,CAAC,CAAC,CAC5C,KAAM,CAAAC,eAAe,CAAGjB,OAAO,CAACkB,QAAQ,CAACL,SAAS,CAAC,CAEnD,KAAM,CAAAP,QAAQ,CAAG,GAAI,CAAAD,IAAI,CAACS,GAAG,CAACK,QAAQ,CACpCnB,OAAO,CAACoB,GAAG,CACXH,eAAe,CAACI,OAClB,CAAC,CAEDjB,QAAQ,CAAC,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAC,CAC9B,CAEAG,QAAQ,EAAIG,cAAc,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAER,MAAO,CAAAT,KAAK,CAChB,CAAC,CAED,cAAe,CAAAD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}